# 学习笔记

## 一、地图编辑器

地图绘制：鼠标
地图清除：右键
地图保存：绘制后，刷新页面取上一次状态
数据结构
一维数组： Array(10000).fill(0)
1 墙
0 空
步骤
初始化地图
js
css
html
事件监听
操作方式 mousedown
左键：绘制
右键：清除 clear 状态
开始 mousemove
原因：一格一格点对于 100*100 地图来说太费劲、不友好，使用 mousemove 只要按住鼠标一移动就好
作用：绘制、清除墙
视觉上：.style.backgroundColor =
逻辑上：[i*100+j] = 1
结束 mouseup
清除状态
鼠标右键菜单禁用 contextmenu #细节

## 二、广度优先，寻路主体

### 拆解复杂度：自顶向下拆解

- 【原题】找到到终点的路径 —— _很复杂_
- 从起点能走到哪里？ —— _不是那么简单_
- 第一步能走到哪里？——上下左右四个点 _非常简单_

### 构建逻辑：自底向上构建

第一步能走到哪里？——上下左右四个点
eg：1、2、3、4
把每一步能走的点加入集合中，得出 —— 从起点能走到哪里
eg：[1,2,3,4] -> [1,2,3,4,5,6,7]
数据结构
队列：Queue 先进先出
广度
加到能走的点的集合
方法：
1 递归 - 深度优先：
2 广度优先

### 结果

图 1 无阻碍
图 1 加入 visitCount
调整，复制地图，来计算保存后新地图走向

## 三、通过异步编程可视化寻路算法

### why 存在的问题

算法：虽然返回了 true，看起来是满足预期，但正确性不能保证
结果：期望是返回路径，而非是 true false
无法调试

### how

无法调试：在函数中间插入一些异步操作
sleep & async await 改造
延迟 30ms 标记已访问的点

## 四、寻找最终路径

### 原理：扩展每个点的时候，是知道每个点是怎么来的

eg：5/6/7 是知道前一个节点是 1

### 步骤

调整插入参数，增加前驱节点
插入节点时，原先赋值 2，改为赋值前驱节点
找到终点时，返回路径
增加斜向移动

## 五、启发式寻路 1

### 原理：只要估值一定小于起点到终点的值，就是 A\*

### 步骤

findPath 基本不用改
改数据结构 queue （先进先出），为能以一定优先级来提供点
保证每次 take 时拿出最小的
give 时不管
验证：

## 六、启发式寻路 2

步骤
queue 改为 new Sorted
距离判断 distance
push 和 shift 改为 give 和 take

## 知识点

一维数组中利用同余特性来表示二维数组
splice 是 O(N) 操作
\*\* 是平方操作



